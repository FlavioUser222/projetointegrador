<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Venda seu tempo - Inclusive.com</title>
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" href="logo.png" type="image/x-icon">
</head>
<style>
    @import url('https://fonts.googleapis.com/css2?family=Jacques+Francois&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap');

    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    input {
        width: 100%;
    }

    .container {
        display: flex;
        flex-direction: column;
        align-items: center;
        max-width: 1300px !important;
        width: 100%;
    }

    .main-content {
        display: flex;
        justify-content: center;
        gap: 240px;
        margin-top: 50px;

    }


    .div-inputs {
        display: flex;
        flex-direction: column;
        gap: 30px;
        width: 100%;

    }

    .zap {
        margin-top: 80px;
    }

    .div-inputs input {
        width: 100%;
        max-width: 380px;
        height: 58px;
        padding: 6px 12px;
        font-size: 1rem;
        border: 2px solid #000a35;
    }

    .div-inputs button {
        background-color: #0b1549;
        color: white;
        border: none;
        padding: 10px 12px;
        font-size: 0.9rem;
        font-weight: 800;
        cursor: pointer;
    }

    .div-inputs a {
        display: flex;
        flex-direction: column;
        align-items: center;
        font-weight: 600;
        gap: 6px;
        text-decoration: none;
        color: #000;
        margin-top: 15px;
    }

    .div-inputs a img {
        display: flex;
        flex-direction: column;
        top: 150px;
        width: 70px;
        height: 70px;
    }


    .div-inputs a span {
        font-size: 0.9rem;
    }

    .div-texts {
        width: 100%;
        max-width: 900px;
        min-height: 600px;
    }

    .div-texts img {
        width: 100%;
        margin-bottom: 20px;
    }

    .div-inputs a {
        width: 150px;
        height: 100px;

    }

    .div-inputs img {
        width: 150px;
        height: 100px;
    }

    .div-texts p {
        font-family: "Times New Roman", serif;
        font-size: 0.95rem;
        line-height: 1.5;
        border: 2px solid black;
        padding: 10px 20px;
        width: 560px;
        min-height: 161px;
    }

    input::placeholder {
        font-family: "Jacques Francois", serif;
        font-size: 25px;
        font-weight: 400;
        color: black;
    }

    .titulo {
        font-size: 60px;
        margin-top: 30px;
        font-family: "Inter", sans-serif;
        font-weight: 700;
        align-items: center;
    }


    .input-hora {
        display: flex;
        width: 380px;
        gap: 20px;
    }

    .input-hora input {
        width: 100% !important;
        gap: 20px;
    }

    label {
        font-family: "Jacques Francois", serif;
        font-size: 25px;
        font-weight: 400;
        color: black;
    }

    .dark-mode input {
        background-color: #2b2b2b;
        border: none;
    }

    .dark-mode label {
        color: white;
        border: none;
    }

    .dark-mode a {
        color: white;
    }

    .dark-mode .div-texts>p {
        border: 2px solid white;
    }

    .dark-mode input::placeholder {
        color: white;
    }


    .label1 {
        display: flex;
        align-items: center;
        width: 100%;
        flex-direction: column;
    }

    @media (max-width: 1240px) {
        .div-texts p {
            width: 100%;
        }

        button {
            width: 30%;
        }

        .main-content {
            flex-direction: column-reverse;
            align-items: center;
            justify-content: center;
            text-align: center;
            gap: 100px;
        }


        .div-inputs,
        .div-texts {
            max-width: 100%;
            align-items: center;
        }

        .div-texts {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
        }


        .div-inputs input {
            font-size: 1rem;
        }

        .div-inputs button {
            align-self: center;
        }
    }


    @media (max-width: 480px) {
        .titulo {
            font-size: 1.8rem;
            text-align: center;
        }

        .div-texts img {
            width: 100%;
            height: auto;
        }

        .div-texts p {
            width: 95%;
            font-size: 0.85rem;
        }

        .div-inputs {
            width: 90%;
            align-items: center;
        }

        .input-hora {
            width: 90%;
        }

        .div-inputs input::placeholder {
            font-size: 1rem;
        }

        .div-inputs label {
            font-size: 1.0rem;
        }

    }
</style>



<body>


    <div class="goBack">
        <a href="index.html"><img src="icons8-voltar-48.png" alt="botao para voltar"></a>
    </div>

    <div class="menu-hamburguer">
        <button id="menuToggle" class="menu-btn" aria-label="Abrir menu de acessibilidade">
            <img src="icons8-menu-quadrado-2-48.png" alt="Bot√£o de menu">
        </button>

        <div class="accessibility-controls" role="toolbar" id="accessibilityMenu"
            aria-label="Ferramentas de acessibilidade">
            <button class="accessibility-btn" id="increaseFont" aria-label="Aumentar tamanho da fonte">A+</button>
            <button class="accessibility-btn" id="decreaseFont" aria-label="Diminuir tamanho da fonte">A-</button>
            <button class="accessibility-btn" id="toggleContrast" aria-label="Ativar modo escuro">
                <img src="forma-de-fase-da-lua-crescente-com-duas-estrelas.png" alt="">
            </button>
            <button class="accessibility-btn" id="toggleVoice" aria-label="Ativar leitor de tela">
                <img src="aumentar-o-volume.png" alt="">
            </button>
            <button class="accessibility-btn" id="btnDaltonismo" aria-label="Trocar cores do site">
                <img src="oculos-escuros.png" alt="">
            </button>
            <a href="admin.html"><img src="engrenagem.png" alt="√çcone administrador"></a>
        </div>
    </div>

    <header class="header">
        <div class="header-content">
            <img class="logo" src="logo.png" alt="Logo escrita Inclusive.com">
            <div class="textHeader">
                <h1 class="header-title">Inclusive.com</h1>
                <p class="header-subtitle">Tecnologia Simplificada para Voc√™</p>
            </div>
        </div>
    </header>


    <div class="container">

        <h1 class="titulo">Cadastro de doadores</h1>

        <div class="main-content">
            <div class="div-inputs">
                <input type="text" placeholder="Nome" required id="nome">
                <input type="text" placeholder="Celular" required id="celular">

                <div class="input-hora">
                    <div class="label1">
                        <label for="">Hora inicial</label>
                        <input type="time" placeholder="Hora Inicial" required id="horaInicial">
                    </div>
                    <div class="label1">
                        <label for="">Hora final</label>
                        <input type="time" placeholder="Hora Final" required id="horaFinal">
                    </div>
                </div>
                <button onclick="fetchDados()">Enviar</button>

                <div class="zap">
                    <a href="#" id="proximo"><img src="whatsapp 1.png" alt="">Clique Aqui!</a>

                </div>
            </div>

            <div class="div-texts">
                <img src="Chamada de V√≠deo com Sorrisos Amig√°veis 1.png" alt="">
                <p><b>Como Funciona o Posso Ajudar</b></br>
                    √â uma plataforma solid√°ria que conecta pessoas dispostas a doar um pouco do
                    seu tempo para quem precisa de ajuda em situa√ß√µes simples do dia a dia.</br>
                    Os doadores se cadastram informando nome, telefone e hor√°rios dispon√≠veis para
                    oferecer ajuda por videochamada.
                    Assim, quem tem dificuldade de leitura ‚Äî seja por problemas de vis√£o, dificuldade de
                    interpreta√ß√£o ‚Äî pode contar com algu√©m que o ajude a entender uma
                    receita m√©dica, uma conta de luz ou outros documentos importantes.</br>
                    O doador ser√°, simbolicamente, os olhos de quem precisa.</br>
                    <b>Por que chamamos de ‚Äúdoador‚Äù?</b></br>
                    Porque essa pessoa est√° doando seu tempo e sua aten√ß√£o para ajudar o pr√≥ximo ‚Äî sem receber
                    nada em troca, apenas a vontade de fazer o bem.</br>
                </p>
            </div>
        </div>
    </div>

    <footer class="footer">
        <p class="footer-mensagem">Feito com üíô para facilitar o aprendizado digital</p>
        <p class="footer-credito">¬© 2025 Inclusive.com</p>
        <a href="teste.html"><img src="configuracoes.png" alt="Ir para tela doadores de tempo"></a>
    </footer>

    <script src="script.js"></script>
    <script>
        async function fetchDados() {

            try {
                let nome = document.getElementById('nome').value
                let celular = document.getElementById('celular').value
                let hrInicial = document.getElementById('horaInicial').value
                let hrFinal = document.getElementById('horaFinal').value

                if (!nome || !celular || !hrInicial || !hrFinal) {
                    alert("Erro ao enviar dados")
                    return
                }


                const response = await fetch("https://projeto-pi-onrender.onrender.com/doador", {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ nome, celular, hrInicial, hrFinal })
                })

                console.log(response)
                console.log(hrInicial)
                if (response.ok) {
                    console.log("Enviado com sucesso")
                    alert("Enviado com sucesso")
                }
            } catch (error) {
                console.error(error)
            }
        }

        let doadores = [];
        let indiceAtual = 0;
        console.log(doadores)

        // Busca doadores dispon√≠veis
        async function carregarDoadores() {
            try {
                const res = await fetch('https://projeto-pi-onrender.onrender.com/doadores/disponiveis');
                doadores = await res.json();
                console.log(doadores)
                indiceAtual = 0; // reinicia a fila
            } catch (err) {
                console.error(err);
            }
        }

        document.getElementById('proximo').addEventListener('click', () => {
            if (doadores.length === 0) return alert('Nenhum doador dispon√≠vel.');

            const doador = doadores[indiceAtual];

            window.open(doador.linkWhatsApp, '_blank')
            console.log(doador.linkWhatsApp)


            indiceAtual = (indiceAtual + 1) % doadores.length;
            console.log(indiceAtual)
        });


        carregarDoadores();

        setInterval(carregarDoadores, 30000);










    </script>


</body>

</html>